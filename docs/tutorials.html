<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Tutorials | A Guide To Surviving Big Data and Psychological Science</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Tutorials | A Guide To Surviving Big Data and Psychological Science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Tutorials | A Guide To Surviving Big Data and Psychological Science" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="Joshua Hew and Jana Tomastikova" />


<meta name="date" content="2024-11-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="useful-packages.html"/>
<link rel="next" href="others-potential-datasets-project-ideas-and-useful-resources.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Big Data Guidebook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-to-use-this-guide"><i class="fa fa-check"></i><b>1.1</b> How to use this guide</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#general-strategies-for-the-course"><i class="fa fa-check"></i><b>1.2</b> General strategies for the course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-to-search-for-stuff-you-dont-understand"><i class="fa fa-check"></i><b>1.3</b> How to search for stuff you don’t understand</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#about-us"><i class="fa fa-check"></i><b>1.4</b> About us</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="common-functions.html"><a href="common-functions.html"><i class="fa fa-check"></i><b>2</b> Common Functions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="common-functions.html"><a href="common-functions.html#for-working-with-dataframes"><i class="fa fa-check"></i><b>2.1</b> For working with dataframes</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="common-functions.html"><a href="common-functions.html#select"><i class="fa fa-check"></i><b>2.1.1</b> select()</a></li>
<li class="chapter" data-level="2.1.2" data-path="common-functions.html"><a href="common-functions.html#filter"><i class="fa fa-check"></i><b>2.1.2</b> filter()</a></li>
<li class="chapter" data-level="2.1.3" data-path="common-functions.html"><a href="common-functions.html#arrange"><i class="fa fa-check"></i><b>2.1.3</b> arrange()</a></li>
<li class="chapter" data-level="2.1.4" data-path="common-functions.html"><a href="common-functions.html#rbind"><i class="fa fa-check"></i><b>2.1.4</b> rbind()</a></li>
<li class="chapter" data-level="2.1.5" data-path="common-functions.html"><a href="common-functions.html#cbind"><i class="fa fa-check"></i><b>2.1.5</b> cbind()</a></li>
<li class="chapter" data-level="2.1.6" data-path="common-functions.html"><a href="common-functions.html#write.csv"><i class="fa fa-check"></i><b>2.1.6</b> write.csv()</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="common-functions.html"><a href="common-functions.html#for-working-with-text"><i class="fa fa-check"></i><b>2.2</b> For working with text</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="common-functions.html"><a href="common-functions.html#gsub"><i class="fa fa-check"></i><b>2.2.1</b> gsub()</a></li>
<li class="chapter" data-level="2.2.2" data-path="common-functions.html"><a href="common-functions.html#unnest_tokens"><i class="fa fa-check"></i><b>2.2.2</b> unnest_tokens()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="useful-packages.html"><a href="useful-packages.html"><i class="fa fa-check"></i><b>3</b> Useful Packages</a>
<ul>
<li class="chapter" data-level="3.1" data-path="useful-packages.html"><a href="useful-packages.html#tidyverse"><i class="fa fa-check"></i><b>3.1</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="useful-packages.html"><a href="useful-packages.html#ggplot2"><i class="fa fa-check"></i><b>3.1.1</b> ggplot2</a></li>
<li class="chapter" data-level="3.1.2" data-path="useful-packages.html"><a href="useful-packages.html#dplyr"><i class="fa fa-check"></i><b>3.1.2</b> dplyr</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tutorials.html"><a href="tutorials.html"><i class="fa fa-check"></i><b>4</b> Tutorials</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tutorials.html"><a href="tutorials.html#writing-functions-in-r"><i class="fa fa-check"></i><b>4.1</b> Writing functions in R</a></li>
<li class="chapter" data-level="4.2" data-path="tutorials.html"><a href="tutorials.html#working-with-different-datatypes-and-how-to-convert-between-them"><i class="fa fa-check"></i><b>4.2</b> Working with different datatypes (and how to convert between them)</a></li>
<li class="chapter" data-level="4.3" data-path="tutorials.html"><a href="tutorials.html#regular-expressions-in-r"><i class="fa fa-check"></i><b>4.3</b> Regular expressions in R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tutorials.html"><a href="tutorials.html#punctuations"><i class="fa fa-check"></i><b>4.3.1</b> Punctuations</a></li>
<li class="chapter" data-level="4.3.2" data-path="tutorials.html"><a href="tutorials.html#fully-capitalised-words"><i class="fa fa-check"></i><b>4.3.2</b> Fully capitalised words</a></li>
<li class="chapter" data-level="4.3.3" data-path="tutorials.html"><a href="tutorials.html#negated-words"><i class="fa fa-check"></i><b>4.3.3</b> Negated words</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tutorials.html"><a href="tutorials.html#scraping-data-from-html"><i class="fa fa-check"></i><b>4.4</b> Scraping data from HTML</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tutorials.html"><a href="tutorials.html#what-if-you-wanted-other-information-contained-within-a-page"><i class="fa fa-check"></i><b>4.4.1</b> What if you wanted other information contained within a page?</a></li>
<li class="chapter" data-level="4.4.2" data-path="tutorials.html"><a href="tutorials.html#some-caveats"><i class="fa fa-check"></i><b>4.4.2</b> Some caveats</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html"><i class="fa fa-check"></i><b>5</b> Others: Potential Datasets, Project Ideas, and Useful Resources</a>
<ul>
<li class="chapter" data-level="5.1" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#what-to-look-for-in-a-project"><i class="fa fa-check"></i><b>5.1</b> What to look for in a project</a></li>
<li class="chapter" data-level="5.2" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#datasets"><i class="fa fa-check"></i><b>5.2</b> Datasets</a></li>
<li class="chapter" data-level="5.3" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#project-ideas"><i class="fa fa-check"></i><b>5.3</b> Project Ideas</a></li>
<li class="chapter" data-level="5.4" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#useful-resources"><i class="fa fa-check"></i><b>5.4</b> Useful Resources</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#reference"><i class="fa fa-check"></i><b>5.4.1</b> Reference</a></li>
<li class="chapter" data-level="5.4.2" data-path="others-potential-datasets-project-ideas-and-useful-resources.html"><a href="others-potential-datasets-project-ideas-and-useful-resources.html#other-useful-resources"><i class="fa fa-check"></i><b>5.4.2</b> Other useful resources</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Guide To Surviving Big Data and Psychological Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tutorials" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Tutorials<a href="tutorials.html#tutorials" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="writing-functions-in-r" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Writing functions in R<a href="tutorials.html#writing-functions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TBD</p>
</div>
<div id="working-with-different-datatypes-and-how-to-convert-between-them" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Working with different datatypes (and how to convert between them)<a href="tutorials.html#working-with-different-datatypes-and-how-to-convert-between-them" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>TBD</p>
</div>
<div id="regular-expressions-in-r" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Regular expressions in R<a href="tutorials.html#regular-expressions-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Like Zach, I’m not good at Regex so I’m just going to add examples that I previously used in my projects. See this <a href="https://evoldyn.gitlab.io/evomics-2018/ref-sheets/R_strings.pdf">cheatsheet</a> or this <a href="https://github.com/rstudio/cheatsheets/blob/main/regex.pdf">cheatsheet</a> for some useful guidance I wish I knew.</p>
<div id="punctuations" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Punctuations<a href="tutorials.html#punctuations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s filter for titles that contain any type of punctuation. This code gives 5 titles with punctuation:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="tutorials.html#cb75-1" tabindex="-1"></a>psych_df <span class="sc">%&gt;%</span></span>
<span id="cb75-2"><a href="tutorials.html#cb75-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb75-3"><a href="tutorials.html#cb75-3" tabindex="-1"></a>    <span class="at">punct =</span> <span class="fu">str_detect</span>(title, <span class="fu">regex</span>(<span class="st">&quot;[:punct:]+&quot;</span>))</span>
<span id="cb75-4"><a href="tutorials.html#cb75-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="tutorials.html#cb75-5" tabindex="-1"></a>  <span class="fu">filter</span>(punct <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-6"><a href="tutorials.html#cb75-6" tabindex="-1"></a>  <span class="fu">select</span>(title) <span class="sc">%&gt;%</span></span>
<span id="cb75-7"><a href="tutorials.html#cb75-7" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                                                                                                                   title
## 1                                                [USA] Read this if you are interested in a career in mental healthcare
## 2 [May 2024] Post Study Participation Requests Here (Link/Text posts on their own will be removed) - Monthly Megathread
## 3                                          What are some decent paying jobs you can do with a bachelors in psychology? 
## 4                                                                                  Any Organisational Psychlogist here?
## 5                                                             can i be a psychiatric nurse practitioner and get a PhD?</code></pre>
<p>The “+” after [:punct:] will match punctuation at least once, so multiple punctuation in a row will be detected too e.g. “I<b>….</b>want to score well in DAPR3”</p>
<p>This code gives titles without any punctuation:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="tutorials.html#cb77-1" tabindex="-1"></a>psych_df <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="tutorials.html#cb77-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-3"><a href="tutorials.html#cb77-3" tabindex="-1"></a>    <span class="at">punct =</span> <span class="fu">str_detect</span>(title, <span class="fu">regex</span>(<span class="st">&quot;[:punct:]+&quot;</span>))</span>
<span id="cb77-4"><a href="tutorials.html#cb77-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb77-5"><a href="tutorials.html#cb77-5" tabindex="-1"></a>  <span class="fu">filter</span>(punct <span class="sc">==</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-6"><a href="tutorials.html#cb77-6" tabindex="-1"></a>  <span class="fu">select</span>(title) <span class="sc">%&gt;%</span></span>
<span id="cb77-7"><a href="tutorials.html#cb77-7" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                                            title
## 1      Borderline Personality Disorder Research 
## 2 Studying psych in EU but working in Australia 
## 3      Letters of Recommendation for grad school
## 4              I regret not choosing Psychology 
## 5       I just failed BLEPP 2024 and now am lost</code></pre>
<p>We can also use regex to separate strings into smaller ones by punctuation of any sort.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="tutorials.html#cb79-1" tabindex="-1"></a>basic_string <span class="ot">&lt;-</span> <span class="st">&quot;I, kinda really - want to \ do well in BIG! Data! WOOO&quot;</span></span>
<span id="cb79-2"><a href="tutorials.html#cb79-2" tabindex="-1"></a></span>
<span id="cb79-3"><a href="tutorials.html#cb79-3" tabindex="-1"></a><span class="fu">str_split</span>(basic_string, <span class="fu">regex</span>(<span class="st">&quot;[:punct:]+&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="tutorials.html#cb79-4" tabindex="-1"></a>  <span class="fu">as.data.frame</span>(<span class="at">col.names =</span> <span class="st">&quot;words&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-5"><a href="tutorials.html#cb79-5" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb79-6"><a href="tutorials.html#cb79-6" tabindex="-1"></a>    <span class="at">words =</span>   <span class="fu">str_trim</span>(words, <span class="at">side =</span> <span class="st">&quot;both&quot;</span>)</span>
<span id="cb79-7"><a href="tutorials.html#cb79-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>##                     words
## 1                       I
## 2            kinda really
## 3 want to  do well in BIG
## 4                    Data
## 5                    WOOO</code></pre>
<p>str_trim gets rid of white space to the left, right, or both sides of the string.</p>
</div>
<div id="fully-capitalised-words" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Fully capitalised words<a href="tutorials.html#fully-capitalised-words" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now lets try to count the number of fully capitalised words in a title. I staggered the counts to see what each part of the regex does.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="tutorials.html#cb81-1" tabindex="-1"></a>psych_df <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="tutorials.html#cb81-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb81-3"><a href="tutorials.html#cb81-3" tabindex="-1"></a>    <span class="at">fullycapitalised1 =</span> <span class="fu">str_count</span>(title, <span class="fu">regex</span>(<span class="st">&quot;[A-Z]&quot;</span>)),</span>
<span id="cb81-4"><a href="tutorials.html#cb81-4" tabindex="-1"></a>    <span class="at">fullycapitalised2 =</span> <span class="fu">str_count</span>(title, <span class="fu">regex</span>(<span class="st">&quot;[A-Z]{2,}&quot;</span>)), </span>
<span id="cb81-5"><a href="tutorials.html#cb81-5" tabindex="-1"></a>    <span class="at">fullycapitalised3 =</span> <span class="fu">str_count</span>(title, <span class="fu">regex</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[A-Z]{2,}</span><span class="sc">\\</span><span class="st">b&quot;</span>))</span>
<span id="cb81-6"><a href="tutorials.html#cb81-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb81-7"><a href="tutorials.html#cb81-7" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(fullycapitalised3)) <span class="sc">%&gt;%</span></span>
<span id="cb81-8"><a href="tutorials.html#cb81-8" tabindex="-1"></a>  <span class="fu">select</span>(title, fullycapitalised1, fullycapitalised2, fullycapitalised3) <span class="sc">%&gt;%</span></span>
<span id="cb81-9"><a href="tutorials.html#cb81-9" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>##                                                                  title fullycapitalised1 fullycapitalised2 fullycapitalised3
## 1                               UBC or SFU: MEd Counselling Psychology                10                 3                 2
## 2 Is working as an RBT a smart move if I want to get a Masters in ABA?                 9                 2                 2
## 3                                   [USA] MSW or PsyD for grad school?                 8                 2                 2
## 4 [USA]: MA in Clinical Psychology program at Northwestern - thoughts?                 8                 2                 2
## 5                       UK psychology student doing year abroad in USA                 5                 2                 2</code></pre>
<ul>
<li>The first regex code counts the number of upper case letters in the title. So for the first title there are U, B, C… 10 capital letters.</li>
<li>The second regex code captures words with two or more consecutive capitalised letters.</li>
<li>The third regex code adds white space (empty string) before and after the capture word so that words like “MEd” or “MSc” don’t get counted.</li>
</ul>
</div>
<div id="negated-words" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Negated words<a href="tutorials.html#negated-words" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="tutorials.html#cb83-1" tabindex="-1"></a>psych_df <span class="sc">%&gt;%</span></span>
<span id="cb83-2"><a href="tutorials.html#cb83-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb83-3"><a href="tutorials.html#cb83-3" tabindex="-1"></a>    <span class="at">n_negations =</span> <span class="fu">str_count</span>(body, <span class="fu">regex</span>(<span class="st">&quot;n&#39;t&quot;</span>))</span>
<span id="cb83-4"><a href="tutorials.html#cb83-4" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb83-5"><a href="tutorials.html#cb83-5" tabindex="-1"></a>  <span class="fu">select</span>(body, n_negations) <span class="sc">%&gt;%</span></span>
<span id="cb83-6"><a href="tutorials.html#cb83-6" tabindex="-1"></a>  <span class="fu">filter</span>(n_negations <span class="sc">==</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             body
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             **(Myanmar)**\n\nHi, so I just finished my IGCSE and I&#39;m looking to either attend **high schoo**l or **IB.** Here&#39;s the problem... I don&#39;t know where to go. My parents are thinking about sending me to Malaysia to do **ADTP** at **Sunway** or **INTI**. Originally, they were planning on sending me to **CATS Boston**, but it turns out that the boarding fees alone exceed half of our budget ( **\\~30 000** ), I did manage to snag a scholarship of 60 per cent, which brought the total -including tuition fees- to **\\~50 000**. Of course, it&#39;s still too much for us to handle. Now, I don&#39;t know what to do. \n\nPlease note that I have tried to research schools myself, but to no avail. Knowing my educational standard, I doubt I&#39;d be able to get into Stanford with just my **IGCSE** results alone. I am planning on majoring in psychology, possibly as far as getting a doctorate. \n\n1. A good environment to learn and socialise\n2. We have a budget of **40K to 50K**, any lower is better\n3. Opportunity to study at a prestigious university after finishing **high school** or **IB** ( maybe like Stanford?? )\n4. **An opportunity for scholar too?**\n\n**Any suggestions?**
## 2 I am about to start my first term at a Uni for graduate school.\n\n  \nThis University is a logistical nightmare, I have had every possible issue, and I have felt like I have been pulling my hair out all summer. The fact that some Alumni have even told me that this is normal is validating and disheartening. \n\n  \nMy current issue is I am missing something for medical clearance that I was not told about until last Friday. Got it done and it will take a week at minimum to get the report back, which is when classes start. I have to be medically cleared to attend said classes, when I reached out asking if I will be-their response was &quot;Okay, thanks&quot;\n\nMy brother in Christ, will you temporarily approve me until my report comes in? Do I need to drop my classes? Like that is literally next week. You should also have a note about students who have had the utter joy of having chicken pox TWICE and needing to prove immunity. \n\nAsked my advisor and haven&#39;t heard back. Other side/issue, I started a new job in the public school system and realized that graduate school has a very strict schedule. Only one time slot available, which is fine until it&#39;s a 4pm class and students don&#39;t get out until 3:46. (which is currently my issue and my advisor told me to just make an accommodation with my prof)\n\n  \nSO, do I just give up and try an online University to accommodate my schedule. Do I keep fighting and hope for the best, and prepare for even more logistical issues? I was told it does not end and that I will LOVE the classes, but absolutely hate everything else. Not very convincing to stay around when it feels like the universe is screaming to get out. Thanks xo
## 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                I&#39;d like to say I don&#39;t regret the school or the program that I chose. I love Marriage and Family Therapy. However, I live in a state where it is nearly IMPOSSIBLE to find a supervisor. I&#39;ve only been interviewed by one, and it&#39;s been a while since she got back to me. I can only assume she&#39;s not interested in having me as an intern. I&#39;ve also sent messages to other supervisors in distant cities to see if I could be their intern, but I haven&#39;t heard a peep. I&#39;m not actually going to give up, but it&#39;s dampening my mood. :-(
## 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        I&#39;m currently working toward my BA degree in general psychology. I&#39;m a junior standing, so ive got about a year or two left of school depending on how I schedule my classes from here on. Got my AA when I graduated highschool through running start, so most of my ucore credits are already fulfilled. Im looking to get into research (I&#39;m a HUGE statistics nerd) and plan on attending graduate school a few years after uni to get my phD in quantitative psychology (but more on thst later). I have a lot of elective credits left to fulfill, so I thought that pairing my major with a double major in data science or minoring in statistics would be a good route to take. But are there any other majors/minors that would be more worth while to look into besides data science or statistics? or any that would help build toward my passion in research/statistics? The statistics program isn&#39;t the best at my uni, but I&#39;m worried that the statistics class I took under the psych program won&#39;t translate very well with the &quot;normal&quot; statistics classes if I were to choose it as my minor. \n\n
## 5                              I&#39;m about to turn 30. I taught English in Korea for a few years and have spent a few other years doing basically nothing, trying to decide what to do. My degree was in Philosophy. I planned to work in Hollywood and got some great internships, but was unable to turn that into any sort of job. \n\nAnyways, lately I&#39;m thinking of becoming some sort of therapist. But I can&#39;t figure out which degree would make sense to pursue. It seems like there&#39;s so many different options. I&#39;m excited about potentially going down this path, but also stressed about trying to figure out the best way to do it. \n\nMS in Counseling \n\nClinical Psych PHD\n\nCounseling PsyD\n\nNursing-PMHNP Masters\n\nMed School\n\netc\n\nI initially thought about school psychology, but after working in an American school, I changed my mind about that. Also I&#39;m a huge night owl. Given the choice, I naturally wake up about 11am. I&#39;ve tried to force myself to wake up early and it never sticks. Obviously I did in when I was in school, but I had no choice. I think it negatively affected me even back then. One of the things that appeals to me about being a therapist is that I&#39;ve heard you can set your own schedule. I also like talking to people and teaching. I really like having 1 on 1 classes. Helping people would be nice. And I really prefer to have autonomy in my work. \n\nHow can I decide which one is right for me? Is there any in particular you would recommend or advise against? Being almost done with my 20s, I&#39;m feeling a lot of pressure to decide on something. But just trying to google these hasn&#39;t really helped me move closer to a decision. \n\nThank you. \n\n
##   n_negations
## 1           2
## 2           2
## 3           2
## 4           2
## 5           2</code></pre>
<p>More examples tbd.</p>
</div>
</div>
<div id="scraping-data-from-html" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Scraping data from HTML<a href="tutorials.html#scraping-data-from-html" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This tutorial is adapted from <a href="https://cbail.github.io/textasdata/screenscraping/rmarkdown/Screenscraping_in_R.html">Chris Bail’s Screen-scraping in R</a> &amp; <a href="https://r4ds.hadley.nz/webscraping">Wickham et al.’s R for Data Science</a>.</p>
<p>We’ll be using the package <a href="https://rvest.tidyverse.org/index.html">rvest</a> to scrape information from html pages, which is useful for information contained within tables such as this <a href="https://cran.r-project.org/web/packages/rvest/vignettes/rvest.html">Interjection dictionary</a> or the top movies on <a href="https://www.imdb.com/chart/top/">IMDB</a>.</p>
<p>Let’s start with the table in <a href="https://cran.r-project.org/web/packages/rvest/vignettes/rvest.html">Interjection dictionary</a>.</p>
<p>First, we’ll read the entire html source code from the website we are interest into R.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="tutorials.html#cb85-1" tabindex="-1"></a>interjections_html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://www.vidarholen.net/contents/interjections/&quot;</span>) <span class="co"># Reading the entire page into R </span></span>
<span id="cb85-2"><a href="tutorials.html#cb85-2" tabindex="-1"></a>interjections_html</span></code></pre></div>
<pre><code>## {html_document}
## &lt;html&gt;
## [1] &lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Dictionary of Interjections (aww, oh ...
## [2] &lt;body&gt;\n    &lt;h1&gt;Dictionary of Interjections&lt;/h1&gt;\n    Here is a list of English interjections, specifically those that a ...</code></pre>
<p>The result is HTML code, which is the programming language web developers use to define the structure and content of the website. In Google, you can inspect the html code of any website by right clicking with your cursor and pressing the “inspect” tab. Importantly, HTML code has a nested structure, typically including “head” a “body” sections of the webpage. The content are mostly contained within tags such as “p” (paragraph) and “h1” (heading 1), I won’t go into too much detail what these are but feel free to look up any HTML tutorial to learn more about these elements.</p>
<p><img src="assets/html_inspect_screenshot.png" width="800px" style="display: block; margin: auto;" /></p>
<p>Once you have the html code in R, you can use the html_nodes() function to specify what sort of elements you want to extract. For our purpose, we will specify “table”:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="tutorials.html#cb87-1" tabindex="-1"></a>interjections_dict1 <span class="ot">&lt;-</span> interjections_html <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="tutorials.html#cb87-2" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&quot;table&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="tutorials.html#cb87-3" tabindex="-1"></a>  .[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="co"># Which table you want to extract (if there are multiple tables on a webpage)</span></span>
<span id="cb87-4"><a href="tutorials.html#cb87-4" tabindex="-1"></a>  <span class="fu">html_table</span>()</span>
<span id="cb87-5"><a href="tutorials.html#cb87-5" tabindex="-1"></a></span>
<span id="cb87-6"><a href="tutorials.html#cb87-6" tabindex="-1"></a><span class="fu">head</span>(interjections_dict1) <span class="co"># This gives you a dataframe that you can work with! </span></span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   Word  `Alternate/ Similar` Translation              Example                                        Meaning                   
##   &lt;chr&gt; &lt;chr&gt;                &lt;chr&gt;                    &lt;chr&gt;                                          &lt;chr&gt;                     
## 1 aah!  &quot;aaah, aaaahh&quot;       &quot;\&quot;Help!\&quot;&quot;              &quot;\&quot;Aaaah! It&#39;s eating my leg!\&quot;&quot;               &quot;Fright, shock. Sometimes…
## 2 aha   &quot;a-ha&quot;               &quot;\&quot;I understand\&quot;&quot;       &quot;\&quot;Aha! So you took the money!\&quot;&quot;              &quot;Understanding, triumph (…
## 3 ahem  &quot;&quot;                   &quot;\&quot;Attention, please!\&quot;&quot; &quot;\&quot;Ahem! Swearing is against office policy.\&quot;&quot; &quot;The sound of clearing on…
## 4 ahh   &quot;ahhh, ohh&quot;          &quot;\&quot;Ok, I see\&quot;&quot;          &quot;\&quot;Ahh, yes, I understand now\&quot;&quot;               &quot;Realisation, understandi…
## 5 ahh   &quot;ahhh..&quot;             &quot;\&quot;So relaxing\&quot;&quot;        &quot;\&quot;Ahh... This hot tub is amazing\&quot;&quot;           &quot;Relief or relaxation&quot;    
## 6 argh  &quot;augh&quot;               &quot;\&quot;Damn!\&quot;&quot;              &quot;\&quot;Argh, the car won&#39;t work!\&quot;&quot;                &quot;Annoyance, anger, frustr…</code></pre>
<p>Alternatively, you can specify an xpath to directly call the specific element you want to turn into a dataframe. You can find the xpath of an element by hovering over the HTML code that highlights the part of the website you want. For instance:</p>
<p><img src="assets/html_xpath_screenshot.png" width="800px" style="display: block; margin: auto;" /></p>
<p>Learn more about xpaths <a href="https://www.w3schools.com/xml/xpath_syntax.asp">here</a>.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="tutorials.html#cb89-1" tabindex="-1"></a>interjections_dict2 <span class="ot">&lt;-</span> <span class="fu">html_node</span>(interjections_html, <span class="at">xpath =</span> <span class="st">&#39;//*[@id=&quot;it&quot;]&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="tutorials.html#cb89-2" tabindex="-1"></a>  <span class="fu">html_table</span>()</span>
<span id="cb89-3"><a href="tutorials.html#cb89-3" tabindex="-1"></a><span class="fu">head</span>(interjections_dict2)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   Word  `Alternate/ Similar` Translation              Example                                        Meaning                   
##   &lt;chr&gt; &lt;chr&gt;                &lt;chr&gt;                    &lt;chr&gt;                                          &lt;chr&gt;                     
## 1 aah!  &quot;aaah, aaaahh&quot;       &quot;\&quot;Help!\&quot;&quot;              &quot;\&quot;Aaaah! It&#39;s eating my leg!\&quot;&quot;               &quot;Fright, shock. Sometimes…
## 2 aha   &quot;a-ha&quot;               &quot;\&quot;I understand\&quot;&quot;       &quot;\&quot;Aha! So you took the money!\&quot;&quot;              &quot;Understanding, triumph (…
## 3 ahem  &quot;&quot;                   &quot;\&quot;Attention, please!\&quot;&quot; &quot;\&quot;Ahem! Swearing is against office policy.\&quot;&quot; &quot;The sound of clearing on…
## 4 ahh   &quot;ahhh, ohh&quot;          &quot;\&quot;Ok, I see\&quot;&quot;          &quot;\&quot;Ahh, yes, I understand now\&quot;&quot;               &quot;Realisation, understandi…
## 5 ahh   &quot;ahhh..&quot;             &quot;\&quot;So relaxing\&quot;&quot;        &quot;\&quot;Ahh... This hot tub is amazing\&quot;&quot;           &quot;Relief or relaxation&quot;    
## 6 argh  &quot;augh&quot;               &quot;\&quot;Damn!\&quot;&quot;              &quot;\&quot;Argh, the car won&#39;t work!\&quot;&quot;                &quot;Annoyance, anger, frustr…</code></pre>
<div id="what-if-you-wanted-other-information-contained-within-a-page" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> What if you wanted other information contained within a page?<a href="tutorials.html#what-if-you-wanted-other-information-contained-within-a-page" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can scrape specific elements of a webpage, depending on the HTML element you specify. Let’s say you want to scrape all the text within paragraphs (“p”) of <a href="https://en.wikipedia.org/wiki/Sigmund_Freud">Sigmund Freud’s Wikipedia</a> website.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="tutorials.html#cb91-1" tabindex="-1"></a>freud_html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;https://en.wikipedia.org/wiki/Sigmund_Freud&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># Reading the entire wiki page into R </span></span>
<span id="cb91-2"><a href="tutorials.html#cb91-2" tabindex="-1"></a>  <span class="fu">html_elements</span>(<span class="st">&quot;p&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># Specify all &quot;p&quot; elements in the webpage</span></span>
<span id="cb91-3"><a href="tutorials.html#cb91-3" tabindex="-1"></a>  <span class="fu">html_text2</span>() <span class="co"># Extract the text content of the HTML elements </span></span>
<span id="cb91-4"><a href="tutorials.html#cb91-4" tabindex="-1"></a></span>
<span id="cb91-5"><a href="tutorials.html#cb91-5" tabindex="-1"></a>freud_html[[<span class="dv">3</span>]] <span class="co"># This gives you a list of all the paragraph text on the webpage</span></span></code></pre></div>
<pre><code>## [1] &quot;Freud was born to Galician Jewish parents in the Moravian town of Freiberg, in the Austrian Empire. He qualified as a doctor of medicine in 1881 at the University of Vienna.[5][6] Upon completing his habilitation in 1885, he was appointed a docent in neuropathology and became an affiliated professor in 1902.[7] Freud lived and worked in Vienna having set up his clinical practice there in 1886. Following the German annexation of Austria in March 1938, Freud left Austria to escape Nazi persecution. He died in exile in the United Kingdom in 1939.&quot;</code></pre>
</div>
<div id="some-caveats" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Some caveats<a href="tutorials.html#some-caveats" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><b> Legality </b></p>
<p>If the data is public, non-personal, and factual, it should be fine to scrape*. You should cite the websites you use, and always read the terms of conditions if present.</p>
<p><b> APIs </b></p>
<p>This short tutorial doesn’t cover more dynamic websites, or websites that utilise an Application Programming Interface (API), which are a set of functions or procedures the website has specified to access their data.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="useful-packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="others-potential-datasets-project-ideas-and-useful-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-tutorials.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
